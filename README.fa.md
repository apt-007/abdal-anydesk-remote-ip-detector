# AnyDesk IP Leak Vulnerability

## 🎤 ترجمه اطلاعات نرم افزار
- [English](README.md)
- [فارسی](README.fa.md)

## 📸 پیش نمایس

<video width="800" height="468" controls>
  <source src="abdal-anydesk-remote-ip-detector-proof.mp4?raw=true" type="video/mp4">
  Your browser does not support the video tag.
</video>

## 💎 معرفی
ابزار Abdal AnyDesk Remote IP Detector یک ابزار نمونه اثبات مفهوم (PoC) است که از آسیب‌پذیری در ویژگی "Allow Direct Connections" نرم‌افزار AnyDesk سوء‌استفاده می‌کند. در صورتی که این گزینه در سیستم مهاجم فعال و پورت روی 7070 تنظیم شده باشد، مهاجم می‌تواند تنها با داشتن ID AnyDesk هدف، آدرس IP عمومی سیستم هدف را به دست آورد، بدون اینکه نیازی به اعمال تنظیمات در سیستم هدف باشد. همچنین، اگر هر دو سیستم در یک شبکه محلی قرار داشته باشند، امکان دسترسی به آدرس IP خصوصی هدف نیز وجود دارد.

## 💀 نمای کلی از آسیب‌پذیری
این آسیب‌پذیری از ویژگی "Allow Direct Connections" در AnyDesk بهره‌برداری می‌کند و می‌تواند اطلاعات حساس IP هدف را در معرض خطر قرار دهد. مهاجمان می‌توانند از این نقص برای دستیابی به آدرس IP عمومی و، در شرایط خاص، آدرس IP خصوصی سیستم هدف استفاده کنند. این آسیب‌پذیری نشان‌دهنده خطرات امنیتی و حریم خصوصی مرتبط با ابزارهای دسترسی از راه دور است، زمانی که تنظیمات امنیتی به‌درستی پیکربندی نشده‌اند.

## ✨ قابلیت ها

* دریافت آدرس IP عمومی سیستم هدف در صورت داشتن ID AnyDesk.
* کشف آدرس IP خصوصی در صورت اتصال دو سیستم در یک شبکه محلی.
* نصب سریع و اجرای آسان PoC.
* بدون نیاز به وابستگی‌های پیچیده؛

## 🛠️ تنظیم محیط توسعه
- **.NET 6**

## 🔥 پیش‌نیازها
برای اجرای این PoC، هیچ پیش‌نیاز خاصی لازم نیست.

## 📥 دانلود
برای دانلود نسخه‌های اجرایی این PoC، لطفاً به صفحه نسخه‌های رسمی در GitHub مراجعه کنید. از این طریق، می‌توانید نسخه کامپایل‌شده و آماده استفاده را دریافت کنید:

- [دانلود نسخه‌های اجرایی PoC از GitHub](https://github.com/ebrasha/abdal-anydesk-remote-ip-detector/releases)



## 📦 راه‌اندازی و استفاده

* فعال‌سازی ارتباط مستقیم در AnyDesk: AnyDesk را باز کنید و به Settings > Connection بروید. سپس گزینه Allow direct connections را فعال کنید و پورت را روی 7070 تنظیم نمایید.
* اجرای ابزار PoC: ابزار Abdal AnyDesk Remote IP Detector را اجرا کنید.
* ورود ID هدف: در AnyDesk، ID سیستم هدف مورد نظر خود را وارد کنید.
* دریافت IP: با وارد کردن ID هدف، ابزار به طور خودکار آدرس IP عمومی سیستم هدف را شناسایی و نمایش می‌دهد. در صورتی که هر دو سیستم در یک شبکه محلی باشند، آدرس IP خصوصی نیز نمایش داده خواهد شد.


## 😎 خروجی مورد انتظار
ابزار به صورت زیر خروجی خواهد داشت:

* آدرس IP عمومی سیستم هدف.
* آدرس IP خصوصی اگر هر دو سیستم در یک شبکه محلی باشند.

## ✅ رفع خطر
متأسفانه در حال حاضر هیچ راه‌حلی از سمت کاربران برای رفع این آسیب‌پذیری وجود ندارد. برای حل کامل این مشکل، نیاز به انتشار یک به‌روزرسانی یا پچ توسط تیم توسعه AnyDesk است. تا آن زمان، کاربران باید در مورد تنظیمات Allow direct connections احتیاط کنند و منتظر به‌روزرسانی‌های AnyDesk باشند.

## 🎖️ اعتبار
- **کشف آسیب‌پذیری و توسعه PoC**: ابراهیم شفیعی (EbraSha)
- [ابراهیم شفیعی در لینکدین](https://www.linkedin.com/in/profshafiei/)

## ❤️ حمایت مالی
اگر این پروژه برای شما مفید بود و مایل به حمایت از توسعه بیشتر هستید، لطفاً در نظر داشته باشید که کمک مالی کنید:
- [اینجا اهدا کنید](https://alphajet.ir/abdal-donation)

## 🤵 برنامه‌نویس
با عشق و علاقه ساخته شده توسط **ابراهیم شفیعی (EbraSha)**
- **ایمیل**: Prof.Shafiei@Gmail.com
- **تلگرام**: [@ProfShafiei](https://t.me/ProfShafiei)

## ☠️ گزارش مشکلات
اگر با مشکلی در پیکربندی مواجه شدید یا چیزی مطابق انتظار شما کار نکرد، لطفاً از طریق ایمیل Prof.Shafiei@Gmail.com تماس بگیرید. همچنین می‌توانید مشکلات را در GitLab یا GitHub گزارش دهید.

## ⚠️  سلب مسئولیت قانونی
این Proof of Concept (PoC) صرفاً برای اهداف آموزشی ارائه شده است. استفاده غیرمجاز از این کد در سیستم‌هایی که مالک آن نیستید یا اجازه صریح برای آزمایش آن‌ها ندارید، غیرقانونی و غیراخلاقی است. با استفاده از این PoC، شما موافقت می‌کنید که تمامی مسئولیت سوءاستفاده یا آسیب‌هایی که ممکن است به دنبال داشته باشد، بر عهده شماست. نویسنده هیچ مسئولیتی در قبال اقدامات ناشی از اطلاعات ارائه شده در این مخزن نمی‌پذیرد. همیشه مطمئن شوید که قبل از انجام هرگونه تست امنیتی، مجوزهای لازم را دریافت کرده‌اید.
